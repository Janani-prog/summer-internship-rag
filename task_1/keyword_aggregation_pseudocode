Function SecureKeywordAggregation(
    Query q,                       // The question or topic
    List of RetrievedPassages P_k, // All the retrieved pieces of information
    LLM_Model LLM,                 // Your smart assistant (Large Language Model)
    alpha,                         // (α) Parameter for threshold calculation (e.g., 0.3)
    beta                           // (β) Parameter for threshold calculation (e.g., 5)

):
P_k = Retrieve_Passages_For_Query(q)
C = Create_Empty_Counter() 
n = 0     

For each passage p_j in P_k:
    isolated_response_j = LLM.Generate_Text_From_Passage(q,p_j,instruction)

        If "I don't know" is NOT in isolated_response_j:
            n = n + 1 

            keywords_j = EXTRACT_IMPORTANT_KEYWORDS_FROM_TEXT(isolated_response_j)
            C.Add_All_Keywords(keywords_j)

threshold_mu = MIN(alpha * n, beta)

W_star = Create_Empty_List()

For each keyword, count_value in C:
    If count_value >= threshold_mu:
        Add keyword to filtered_keywords W_star

final_response_r_star = LLM.Generate_Text_From_Keywords(q,W_star,"Answer the query using the following important keywords: ")